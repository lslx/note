android internal

app_process
/home/fhc/ext800/src-android-local/android-6.0.1_r77/frameworks/base/cmds/app_process/app_main.cpp
/home/fhc/ext800/src-android-local/android-6.0.1_r77/frameworks/base/core/jni/AndroidRuntime.cpp

jdwp
/home/fhc/ext800/src-android-local/android-6.0.1_r77/frameworks/base/core/jni/AndroidRuntime.cpp

./frameworks/base/cmds/am/src/com/android/commands/am/Am.java



prelink map
build/core/prelink-linux-arm.map

other option: uber, linaro, termux,crosstool-ng


http://chenyuanfang.blogspot.com/2017/11/build-android-ndk-15-from-source.html

# See what Android manifests are available for NDK
git ls-remote https://android.googlesource.com/platform/manifest | grep NDK

# see we pick 'refs/heads/ndk-release-r16'
# or see: https://android.googlesource.com/platform/ndk/+/ndk-release-r16/README.md
repo init -u https://android.googlesource.com/platform/manifest -b ndk-release-r16

# See which clang version are this by this build of NDK for linux host
ls -al prebuilts/ndk/current/toolchains/linux-x86_64/llvm
lrwxrwxrwx 1 qe qe 46 Nov 11 18:10 prebuilts/ndk/current/toolchains/linux-x86_64/llvm -> ../../../../clang/host/linux-x86/clang-4053586/

# now replace the default clang with customized version
# https://android.googlesource.com/platform/ndk/+/master/docs/Toolchains.md
export CLANG_PREBUILTS=`realpath ../prebuilts/clang/host/linux-x86`
cd $CLANG_PREBUILTS
tar xf path/to/clang-dev-linux-x86_64.tar.bz2
mv clang-4053586 clang-4053586.orig
mv clang-dev clang-4053586

# rebuild NDK
cd -
python checkbuild.py --no-build-tests --system linux


How to build prebuilt clang:

# check what the prebuilt clang manifest looks like
cat prebuilts/ndk/current/toolchains/linux-x86_64/llvm/repo.prop
#or
cat prebuilts/ndk/current/toolchains/linux-x86_64/llvm/manifest_*.xml

# Use the manifest

-------------------------------
build ranchu qemu
http://restart-thinking.vitorallo.com/2014/11/ranchu-where-are-you-kernel-and.html
https://qemu-android.googlesource.com/qemu-ranchu

git clone https://qemu-android.googlesource.com/qemu-android
git clone https://qemu-android.googlesource.com/qemu-ranchu
mkdir builddir
cd qemu-ranchu/scripts
./rebuild.sh --system=linux-x86_64,windows-x86_64 --build-dir=/home/fhc/qemugg/builddir -j9 --target=arm,arm64,x86,x86_64 /home/fhc/qemugg/qemu-android /home/fhc/ext800/src-android-local/android-6.0.1_r77

qemu2.7.0:
emu2.3
qemu2.8.0: 
emu2.4,emu2.5
qemu2.9.0:
emu2.6,emu2.7,emu2.8


https://android.googlesource.com/platform/external/qemu/+/emu-2.5-release






后面联系清华的管理员，问题是清华的镜像 @huiyiqun 服务器上 git 需要更新到 2.5 以上，他打开 uploadpack.allowReachableSHA1InWant 这个选项后即可。




















